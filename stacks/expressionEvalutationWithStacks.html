<!DOCTYPE html>
<html>
<head>
    <title>More Stacks</title>
    <script src="http://yui.yahooapis.com/3.9.1/build/yui/yui-min.js"></script>
    <script src="js/stacks.js"></script>
    <script src="js/utils.js"></script>
    <style>
        #expInput {width:350px; height: 35px; font-size: 18px}
    </style>

<script>

 (function() {

    //Dijkstra's Two stack Algorithm for Expression Evaluation
    //expression

    function evaluateExpression (expression) {
        var ex      = expression.split(" "),
            ops     = new Stack(),
            vals    = new Stack();


        ex.forEach(function(val){
            if (val === "("){
            }
            else if (val === "+"){
                ops.push(val);
            }
            else if (val === "-"){
                ops.push(val);
            }
            else if (val === "*"){
                ops.push(val);
            }
            else if (val === "/"){
                ops.push(val);
            }
            else if (val === "sqrt"){
                ops.push(val);
            }
            else if (val === ")"){
                var op = ops.pop();
                var v  = parseInt(vals.pop());

                if (op === "+"){
                    v = parseInt(vals.pop()) + v;
                }
                else if (op === "-") {
                    v = parseInt(vals.pop()) - v;
                }
                else if (op === "*") {
                    v =  parseInt(vals.pop()) * v;
                }
                else if (op === "/") {
                    v = parseInt(vals.pop()) / v;
                }
                else if (op === "sqrt") {
                    v = Math.sqrt(v);
                }

                vals.push(v);

            }
            else {
                vals.push(val);
            }
        })//end foreach

    return vals.pop();

    }
     YUI().use('node', 'messenger', function (Y) {
         var evInput = Y.one("#expInput");
         Y.one("#evaluate").on("click", function (e) {
             var evaluate   = evaluateExpression(evInput.get("value")),
                    msg     = new Y.MSG("#verification-message");

             msg.displayMessage(evaluate,"results");
         })
     });









 })();
</script>



</head>
<body>
   <div id="ex-container">
   <h1>Expression Evaluation</h1>
   <p>Type a mathematic expression and evaluate it</p>
   <p> for example :( 1 + ( ( 2 + 3 ) * ( 4 * 5 ) ) )</p>
    <input id="expInput" type="text"/>
    <button id="evaluate">Evaluate Expression</button>
       <div id="verification-message"></div>
   </div>
</body>
</html>